<!--begin Main-->
<div class="app-main flex-column flex-row-fluid" id="kt_app_main">
  <!--begin Content wrapper-->
  <div class="d-flex flex-column flex-column-fluid">
    <!--begin Content-->
    <div id="kt_app_content" class="app-content app-content-stretch">
      <!--begin Content container-->
      <div id="kt_app_content_container" class="app-container container-fluid">
        <!--begin Products-->
        <div class="card card-flush">
          <!--begin Card header-->
          <div class="card-header align-items-center py-5 gap-2 gap-md-5">
            <!--begin Card title-->
            <div class="card-title">
              <!--begin Search-->
              <div class="d-flex align-items-center position-relative my-1">
                <i
                  class="ki-outline ki-magnifier fs-3 position-absolute ms-4"
                ></i>
                <input
                  type="text"
                  data-kt-ecommerce-product-filter="search"
                  class="form-control form-control-solid w-250px ps-12"
                  placeholder="Rechercher un citoyen"
                  [(ngModel)]="SearchText"
                />
              </div>
              <!--end Search-->
            </div>
            <!--end Card title-->
            <!--begin Card toolbar-->
            <div class="card-toolbar flex-row-fluid justify-content-end gap-5">
              <div class="w-100 mw-150px">
                <!--begin Select2-->
                <select
                  class="form-select form-select-solid"
                  data-control="select2"
                  data-hide-search="true"
                  data-placeholder="Status"
                  data-kt-ecommerce-product-filter="status"
                >
                  <option></option>
                  <option value="all">All</option>
                  <option value="published">Published</option>
                  <option value="scheduled">Scheduled</option>
                  <option value="inactive">Inactive</option>
                </select>
                <!--end Select2-->
              </div>
              <!--begin Add product-->
              <button
                class="btn btn-primary"
                *ngIf="!showConsulat"
                data-bs-toggle="modal"
                data-bs-target="#kt_modal_create_citoyen"
              >
                Enroller un citoyen
              </button>
              <!--end Add product-->
            </div>
            <!--end Card toolbar-->
          </div>
          <!--end Card header-->
          <!--begin Card body-->
          <div class="card-body pt-0">
            <!--begin Table-->
            <table
              class="table align-middle table-row-dashed fs-6 gy-5"
              id="kt_ecommerce_products_table"
            >
              <thead>
                <tr
                  class="text-start text-gray-500 fw-bold fs-7 text-uppercase gs-0"
                >
                  <th class="min-w-200px"><h5>Matricule</h5></th>
                  <th class="min-w-200px"><h5>Nom Complet</h5></th>
                  <th class="text-center min-w-100px"><h5>Profession</h5></th>
                  <th class="text-center min-w-100px">
                    <h5>Date de naissance</h5>
                  </th>
                  <th class="text-center min-w-100px">
                    <h5>Lieu de Naissance</h5>
                  </th>
                  <th class="text-center min-w-150px">
                    <h5>Numéro de Téléphone</h5>
                  </th>
                  <th class="text-center min-w-100px" *ngIf="showConsulat">
                    <h5>Consulat</h5>
                  </th>
                  <th class="text-center min-w-70px"><h5>Actions</h5></th>
                </tr>
              </thead>
              <tbody class="fw-semibold text-gray-600">
                <tr *ngFor="let citoyen of citoyens | search : SearchText">
                  <td>
                    <div class="d-flex align-items-center">
                      <!--begin Title-->
                      <span class="text-gray-800 fs-5 fw-bold">{{
                        citoyen.matricule
                      }}</span>
                      <!--end Title-->
                    </div>
                  </td>
                  <td>
                    <span class="text-gray-800 fs-5 fw-bold"
                      >{{ citoyen.prenom }} {{ citoyen.nom }}</span
                    >
                  </td>
                  <td class="text-end pe-0">
                    <span class="fw-bold">{{
                      citoyen.profession.secteur_dactivite
                    }}</span>
                  </td>
                  <td class="text-end pe-0">
                    <span class="fw-bold">{{ citoyen.date_de_naissance }}</span>
                  </td>
                  <td class="text-end pe-0">
                    <span class="fw-bold">{{ citoyen.lieu_de_naissance }}</span>
                  </td>
                  <td class="text-end pe-0">
                    <span class="fw-bold">{{
                      citoyen.numero_de_telephone
                    }}</span>
                  </td>
                  <td class="text-end pe-0">
                    <span class="fw-bold" *ngIf="showConsulat">{{
                      citoyen.consulat?.nom
                    }}</span>
                  </td>
                  <td class="text-end">
                    <a
                      href="#"
                      class="btn btn-sm btn-light btn-flex btn-center btn-active-light-primary"
                      data-kt-menu-trigger="click"
                      data-kt-menu-placement="bottom-end"
                      >Actions <i class="ki-outline ki-down fs-5 ms-1"></i
                    ></a>
                    <!--begin Menu-->
                    <div
                      class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-semibold fs-7 w-125px py-4"
                      data-kt-menu="true"
                    >
                      <!--begin Menu item-->
                      <div class="menu-item px-3">
                        <a
                          href="apps/ecommerce/catalog/edit-product.html"
                          class="menu-link px-3"
                          >Edit</a
                        >
                      </div>
                      <!--end Menu item-->
                      <!--begin Menu item-->
                      <div class="menu-item px-3">
                        <a
                          href="#"
                          class="menu-link px-3"
                          data-kt-ecommerce-product-filter="delete_row"
                          >Delete</a
                        >
                      </div>
                      <!--end Menu item-->
                    </div>
                    <!--end Menu-->
                  </td>
                </tr>
                <tr *ngIf="!citoyens || citoyens.length === 0">
                  <td colspan="8" class="text-center">
                    <span class="text-gray-600">
                      <h3>Aucune donnée disponible pour cette table.</h3></span
                    >
                  </td>
                </tr>
              </tbody>
            </table>
            <!--end Table-->
          </div>
          <!--end Card body-->
          <!-- begin card footer -->
          <div
            class="d-flex justify-content-between card-footer mb-15 align-items-center py-5 gap-2 gap-md-5"
          >
            <!--begin::Pagination-->
            <div class="fs-6 fw-semibold text-gray-700">
              Showing 1 to 10 of 50 entries
            </div>
            <!--begin::Pages-->
            <div></div>
            <ul class="pagination">
              <li class="page-item previous">
                <span class="page-link">
                  <i class="previous"></i>
                  Precedent
                </span>
              </li>
              <li class="page-item active"><span class="page-link">1</span></li>
              <li class="page-item"><span class="page-link">2</span></li>
              <li class="page-item"><span class="page-link">3</span></li>
              <li class="page-item"><span class="page-link">4</span></li>
              <li class="page-item"><span class="page-link">5</span></li>
              <li class="page-item"><span class="page-link">6</span></li>
              <li class="page-item next">
                <span class="page-link">
                  Suivant
                  <i class="next"></i>
                </span>
              </li>
            </ul>
            <!--end::Pages-->

            <!--end::Pagination-->
          </div>
          <!-- end card footer -->
        </div>
        <!--end Products-->
      </div>
      <!--end Content container-->
    </div>
    <!--end Content-->
  </div>
  <!--end Content wrapper-->
</div>
<!--end :Main-->
